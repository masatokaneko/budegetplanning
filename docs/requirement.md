---

## 費用予算策定・実績把握システム 要件定義書（案）

### 1. はじめに

#### 1.1. 背景と目的
*   **背景**:
    *   現在、予算策定はExcel、過去データ管理はGoogle Spreadsheet、実績把握はfreee会計からのCSVエクスポートと手作業による集計・分析で行われている。
    *   CFOおよび経理担当者がより効率的かつ精緻な予算管理（予実モニタリング、差異分析）を行う必要性が高まっている。
    *   販管費の取引先別管理や、社員数・売上高などの変動要因と連動した予算策定を行いたい。
*   **目的**:
    *   予算策定業務の効率化と精度向上。
    *   実績把握の迅速化と正確性の向上。
    *   多角的な予実分析による経営判断の迅速化と質の向上。
    *   予算・実績データの一元管理と可視化。

#### 1.2. システム利用対象者
*   CFO
*   経理担当者

#### 1.3. システム化の範囲
*   過去実績データの取り込み・管理
*   予算データの策定支援・登録・管理（Excelインポート、変動要因連動含む）
*   実績データの取り込み・管理（freee会計CSVインポート）
*   予実対比分析・レポート出力

---

### 2. 業務要件

#### 2.1. 予算策定業務
*   **過去実績の参照**: 前年度および過去数年分の費用実績（科目別、月別、取引先別）を参照できること。
*   **予算案作成**:
    *   過去実績をベースに、増減率や固定額を入力して予算案を作成できること。
    *   Excelで作成した予算案をシステムにインポートできること。
    *   売上原価（外注費、ソフトウェア減価償却、代理販売仕入）の特性に応じた入力ができること。
        *   ソフトウェア減価償却は、当面手入力または計算結果の入力で可。将来的には償却計算機能も視野。
    *   販管費は科目別、かつ取引先別に予算策定できること。
    *   特定の販管費科目（または取引先ごと）について、変動要因（例: 社員数、売上高）の予測値と連動させて予算額を自動計算できること（単純比例計算）。
        *   例: 情報システム利用料 = 前年社員一人当たり単価 × 当該月予測社員数
        *   例: 売上連動インセンティブ = 設定インセンティブ率 × 当該月予測売上高
    *   オフィス増床など、特定の条件（例: 社員数が一定数を超える）によって発生する費用は、現時点では手動で関連費用を該当月に予算入力する。
*   **予算バージョニング**: 複数の予算案（例: 通常、楽観、悲観）を保持・比較できること（初期フェーズでは単一バージョンでも可、将来拡張を考慮）。
*   **予算の確定**: 策定した予算を確定ステータスにできること。

#### 2.2. 実績把握業務
*   **実績データの取り込み**: freee会計からエクスポートした実績データ（CSV形式、仕訳データまたは残高試算表を想定）をシステムにインポートできること。
    *   CSVデータ内の勘定科目、補助科目（取引先として利用）、金額、日付情報を認識できること。
*   **実績データの集計**: 取り込んだ実績データを、科目別、月別、取引先別に自動集計できること。
*   **データの正確性担保**: インポート時のエラーチェックや、取り込み後のデータ修正機能（限定的で可、基本は元データ修正を推奨）。

#### 2.3. 予実管理・分析業務
*   **予実対比**: 予算と実績を様々な切り口（全社、科目別、月別、取引先別、累計）で比較し、差異（金額、比率）を表示できること。
*   **ドリルダウン**: 集計結果から、より詳細な内訳（例: 科目別集計 → 取引先別内訳）にドリルダウンできること。
*   **レポート出力**:
    *   予実対比レポート（サマリー、詳細）
    *   科目別実績推移レポート
    *   取引先別予実対比レポート
    *   各種レポートはExcel、CSV形式でエクスポートできること。
*   **ダッシュボード**: 主要なKPI（総費用予実差異、主要科目の達成率など）を一覧で視覚的に把握できること（初期フェーズでは簡易的なもので可）。

#### 2.4. マスタデータ管理業務
*   **勘定科目マスタ**: 費用の勘定科目を登録・編集・削除できること。freee会計の科目体系と整合性を取れること。
*   **取引先マスタ**: 販管費の支払い先となる取引先を登録・編集・削除できること。freee会計の補助科目と紐付けられること。
*   **変動要因マスタ**: 予算策定に利用する変動要因（例: 社員数、売上高）を登録・編集・削除できること。
*   **ユーザーマスタ・権限管理**: システム利用者と、その役割に応じた機能アクセス権限を設定できること。

---

### 3. 業務フロー

#### 3.1. 予算策定フロー
1.  **準備**:
    *   [システム] 経理担当者が、変動要因マスタに変動要因（社員数、売上高など）を登録・更新。
    *   [システム] 経理担当者が、次期の月別変動要因予測値（社員数見込み、売上高見込みなど）を入力。
    *   [システム/手動] 経理担当者が、過去実績データ（Google SpreadsheetからCSVエクスポート）をシステムにインポート（必要に応じて）。
2.  **予算案作成（Excel利用の場合）**:
    *   [Excel] 経理担当者が、過去実績や変動要因予測値を参考に、Excelで科目別・月別（・取引先別）の予算案を作成。
    *   [システム] 経理担当者が、作成したExcel予算案をシステムにインポート。
3.  **予算案作成（システム利用の場合）**:
    *   [システム] 経理担当者/CFOが、システム上で科目別・月別（・取引先別）に予算を入力。
        *   固定費: 手入力。
        *   変動費（変動要因連動）: 対象科目・取引先を選択し、連動する変動要因と計算基準（前年単価など）を設定。システムが予算額を自動計算。
        *   スポット費用（オフィス増床関連など）: 手動で該当月に予算入力。
4.  **レビュー・修正**:
    *   [システム] CFO/経理担当者が、システム上で策定された予算案全体（科目別、取引先別、月別合計など）を確認・レビュー。
    *   [システム] 必要に応じて、予算額を修正。
5.  **予算確定**:
    *   [システム] CFOが最終確認し、予算案を「確定」ステータスに変更。

#### 3.2. 実績把握・予実分析フロー (月次)
1.  **実績データ準備**:
    *   [freee会計] 経理担当者が、freee会計から当月実績データ（仕訳CSVまたは残高試算表CSV）をエクスポート。
2.  **実績データ取り込み**:
    *   [システム] 経理担当者が、エクスポートした実績CSVファイルをシステムにアップロード。
    *   [システム] システムがCSVデータを解析し、勘定科目・補助科目（取引先）・日付・金額を認識して実績データベースに登録。エラーがあれば通知。
3.  **予実対比・分析**:
    *   [システム] CFO/経理担当者が、システム上で予実対比レポート（全社、科目別、取引先別など）を閲覧。
    *   [システム] 差異が大きい項目について、ドリルダウン機能で詳細を確認。
    *   [オフライン/システム] 差異の原因分析、対応策の検討。
4.  **レポート作成・報告**:
    *   [システム] 経理担当者が、必要なレポートをExcel等でエクスポート。
    *   [オフライン] CFOへの報告資料作成、報告。
5.  **見直し（ローリングフォーキャスト等、必要に応じて）**:
    *   [システム] 実績を踏まえ、期末までの変動要因予測値や予算を見直す場合、システム上で予算データを更新（別バージョンとして保存、または上書き）。

---

### 4. システム要件定義

#### 4.1. 機能要件
（上記「2. 業務要件」「3. 業務フロー」で記述されたシステムが担うべき機能を具体的に記載）

*   **F-001: ログイン機能**: ユーザーIDとパスワードによる認証。
*   **F-002: ダッシュボード表示機能**: 主要KPIの表示（内容は別途定義）。
*   **データインポート関連**
    *   **F-010: 過去実績データインポート機能**: Google SpreadsheetからエクスポートしたCSV形式の過去実績データ（科目、月、支払先名、金額等を含む）をインポート。項目マッピング機能。
    *   **F-011: Excel予算インポート機能**: 指定フォーマットのExcelファイルをインポートし、予算データとして登録。
    *   **F-012: freee会計実績CSVインポート機能**: freee会計からエクスポートした仕訳CSVまたは残高試算表CSVをインポート。勘定科目、補助科目（取引先として）、日付、金額を認識。
*   **予算策定関連**
    *   **F-020: 予算入力・編集機能**: 科目別、月別、取引先別に予算額を手入力・編集できる画面。
    *   **F-021: 変動要因連動予算自動計算機能**:
        *   選択した変動要因マスタの予測値と、設定された計算基準（前年単価等）に基づき、対象科目・取引先の予算額を自動計算（単純比例）。
        *   計算結果のプレビュー、手動調整機能。
    *   **F-022: 予算バージョン管理機能**: 複数の予算バージョンを作成・保存・比較できる（初期は単一でも可）。
    *   **F-023: 予算確定機能**: 予算データを確定ステータスに変更。確定後は原則編集不可（権限者のみ解除可能など）。
*   **実績管理関連**
    *   **F-030: 実績データ表示機能**: 取り込んだ実績データを科目別、月別、取引先別に一覧表示。
*   **予実分析・レポート関連**
    *   **F-040: 予実対比表示機能**: 予算と実績を多角的に比較表示（金額差、差異率）。
    *   **F-041: ドリルダウン機能**: 集計値から詳細内訳へ遷移。
    *   **F-042: レポート出力機能**: 各種レポート（予実対比、科目別推移、取引先別予実）をExcel/CSV形式でエクスポート。
*   **マスタ管理関連**
    *   **F-050: 勘定科目マスタ管理機能**: 登録、編集、削除。
    *   **F-051: 取引先マスタ管理機能**: 登録、編集、削除。freee補助科目との紐付け支援。
    *   **F-052: 変動要因マスタ管理機能**: 登録、編集、削除。
    *   **F-053: 変動要因予測値入力機能**: 変動要因マスタに基づき、月別の予測値を入力・編集。
    *   **F-054: ユーザーマスタ管理機能**: ユーザー登録、編集、削除。
    *   **F-055: 権限管理機能**: ユーザーロール（例: CFO、経理担当）ごとに利用可能な機能を設定。

#### 4.2. 非機能要件
*   **4.2.1. 性能要件**:
    *   画面表示速度: 通常の操作で3秒以内。
    *   データ処理速度: 月次実績CSV（数千行程度を想定）のインポート処理が5分以内に完了。
    *   同時アクセスユーザー数: 2名（CFO、経理担当）の同時利用に耐えうること。
*   **4.2.2. 可用性要件**:
    *   システム稼働率: 99.5%以上（計画メンテナンス時間を除く）。
    *   データバックアップ: 定期的な自動バックアップ、およびリストア手順の確立。
*   **4.2.3. セキュリティ要件**:
    *   不正アクセス対策: ログイン認証、IPアドレス制限（可能な場合）。
    *   データ暗号化: パスワード等の重要情報は暗号化して保存。通信はHTTPS。
    *   アクセスログの記録。
*   **4.2.4. 操作性・UI/UX要件**:
    *   直感的で分かりやすいインターフェース。ExcelやGoogle Spreadsheetに慣れたユーザーが比較的容易に操作を習得できること。
    *   主要な操作は少ないクリック数で実行できること。
    *   エラーメッセージは分かりやすく、対処方法を示唆すること。
*   **4.2.5. 拡張性・保守性要件**:
    *   将来的な機能追加（例: ソフトウェア減価償却自動計算、より複雑な変動要因ロジック、ワークフロー機能、API連携等）を考慮した設計。
    *   マスタデータの追加・変更が容易であること。
    *   プログラムコードの可読性、モジュール性。
*   **4.2.6. 移行要件**:
    *   既存の過去実績データ（Google Spreadsheet）を初期データとしてシステムに移行できること。
*   **4.2.7. 運用・保守要件**:
    *   システム障害発生時の連絡体制、復旧手順。
    *   定期的なメンテナンス計画。

#### 4.3. システム構成案（例）
*   **アプリケーションサーバー**: (言語・フレームワークは選定による 例: Python/Django, Ruby/Rails, Java/Springなど)
*   **データベースサーバー**: (例: PostgreSQL, MySQLなど)
*   **Webサーバー**: (例: Nginx, Apacheなど)
*   **インフラ**: クラウドサービス（AWS, GCP, Azureなど）またはオンプレミスサーバー。
    *   クラウドサービス利用を推奨（スケーラビリティ、可用性、運用負荷軽減のため）。

---

### 5. 今後の進め方
1.  本要件定義書のレビューと承認。
2.  システム開発会社へのRFP（提案依頼書）作成、または内製開発チームへの指示。
3.  開発会社選定（外部委託の場合）。
4.  外部設計、内部設計。
5.  開発、テスト（単体、結合、総合、受入）。
6.  導入、利用者トレーニング。
7.  運用開始、保守。

--- 